!function(e){function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i){function t(e,i,t){for(var n,r=[],a=Math.ceil(i/e.columns),s=0;s<a;s++)for(var o=0;o<e.columns;o++)n=[0,0,0],0===e.plane.indexOf("x")&&(n[0]=o*e.margin),0===e.plane.indexOf("y")&&(n[1]=o*e.margin),1===e.plane.indexOf("y")&&(n[1]=s*e.margin),1===e.plane.indexOf("z")&&(n[2]=s*e.margin),r.push(n);return r}function n(e,i,t){for(var n=[],r=0;r<i;r++){var a=r*(2*Math.PI)/i,s=[t.x,t.y,t.z];0===e.plane.indexOf("x")&&(s[0]+=e.radius*Math.cos(a)),0===e.plane.indexOf("y")&&(s[1]+=e.radius*Math.cos(a)),1===e.plane.indexOf("y")&&(s[1]+=e.radius*Math.sin(a)),1===e.plane.indexOf("z")&&(s[2]+=e.radius*Math.sin(a)),n.push(s)}return n}function r(e,i,t){for(var n=[],r=0;r<i;r++){var a=-r*(Math.PI/2)/(i-1);n.push([t.x+e.radius*(Math.cos(a)*-1),t.y,t.z+e.radius*(1*Math.sin(a))])}return n}function a(e,i,t){for(var n=[],r=0;r<i;r++){var a=-r*e.spacing+(+e.angleOffset||0);n.push([t.x+e.radius*(Math.cos(a)*-1),t.y,t.z+e.radius*(1*Math.sin(a))])}return n}function s(e,i,n){return e.columns=i,t(e,i,n)}function o(e,i,t){return u([[1,0,0],[0,1,0],[0,0,1],[-1,0,0],[0,-1,0],[0,0,-1]],t,e.radius/2)}function d(e,i,t){var n=(1+Math.sqrt(5))/2,r=1/n,a=2-n,s=-1*r,o=-1*a;return u([[-1,a,0],[-1,o,0],[0,-1,a],[0,-1,o],[0,1,a],[0,1,o],[1,a,0],[1,o,0],[r,r,r],[r,r,s],[r,s,r],[r,s,s],[a,0,1],[a,0,-1],[s,r,r],[s,r,s],[s,s,r],[s,s,s],[o,0,1],[o,0,-1]],t,e.radius/2)}function c(e,i,t){var n=Math.sqrt(3),r=-1/Math.sqrt(3),a=2*Math.sqrt(2/3);return u([[0,0,n+r],[-1,0,r],[1,0,r],[0,a,0]],t,e.radius/2)}function u(e,i,t){return i=[i.x,i.y,i.z],e.map(function(e){return e.map(function(e,n){return e*t+i[n]})})}function l(e,i){e.forEach(function(e,t){var n=i[t];e.setAttribute("position",{x:n[0],y:n[1],z:n[2]})})}AFRAME.registerComponent("layout",{schema:{columns:{default:1,min:0,if:{type:["box"]}},margin:{default:1,min:0,if:{type:["box","line"]}},plane:{default:"xy"},radius:{default:1,min:0,if:{type:["circle","semicircle","cube","dodecahedron","pyramid"]}},reverse:{default:!1},type:{default:"line",oneOf:["box","circle","cube","dodecahedron","line","pyramid"]}},init:function(){var e=this,i=this.el;this.children=i.getChildEntities(),this.initialPositions=[],this.children.forEach(function(i){function t(){var t=i.getAttribute("position");e.initialPositions.push([t.x,t.y,t.z])}return i.hasLoaded?t():void i.addEventListener("loaded",t)}),i.addEventListener("child-attached",function(t){t.detail.el.parentNode===i&&(e.children.push(t.detail.el),e.update())}),i.addEventListener("child-detached",function(i){e.children.indexOf(i.detail.el)!==-1&&(e.children.splice(e.children.indexOf(i.detail.el),1),e.initialPositions.splice(e.children.indexOf(i.detail.el),1),e.update())})},update:function(e){var i,u,h=this.children,f=this.data,p=this.el,x=h.length,v=p.getAttribute("position");switch(f.type){case"box":i=t;break;case"circle":i=n;break;case"semicircle":i=r;break;case"evenlyspacedarc":i=a;break;case"cube":i=o;break;case"dodecahedron":i=d;break;case"pyramid":i=c;break;default:i=s}u=i(f,x,v),f.reverse&&u.reverse(),l(h,u)},remove:function(){this.el.removeEventListener("child-attached",this.childAttachedCallback),l(this.children,this.initialPositions)}}),e.exports.getBoxPositions=t,e.exports.getCirclePositions=n,e.exports.getSemiCirclePositions=r,e.exports.getEvenlySpacedArcPositions=a,e.exports.getLinePositions=s,e.exports.getCubePositions=o,e.exports.getDodecahedronPositions=d,e.exports.getPyramidPositions=c}]);